language: python
python:
    - "3.8"

cache: pip

before_install:
  - pip install codecov

install:
  # Install test dependencies.
  - pip install -r requirements.txt

jobs:
  include:
    - stage: flake8
      script: flake8 --config=flake8.ini --output-file=flake8Report.txt
    - stage: test
      script: pytest
      after_success:
        - bash <(curl -s https://codecov.io/bash)
        - codecov # submit coverage
